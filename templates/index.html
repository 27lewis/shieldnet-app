<!-- templates/index.html -->
<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ShieldNet - Analizador de Texto</title>
  <style>
    body { font-family: Arial, sans-serif; background:#f5f7fb; display:flex; align-items:center; justify-content:center; height:100vh; margin:0;}
    .card { width:650px; background:white; border-radius:12px; padding:24px; box-shadow:0 8px 24px rgba(0,0,0,0.08); }
    h1 { color:#1976d2; margin:0 0 12px 0; text-align:center; }
    label { font-weight:600; display:block; margin:8px 0; }
    textarea { width:100%; height:140px; padding:12px; border:1px solid #e0e0e0; border-radius:8px; resize:vertical; font-size:14px; }
    button { background:#1976d2; color:white; border:0; padding:12px 18px; border-radius:8px; font-size:16px; cursor:pointer; margin-top:12px; width:100%; }
    .result { margin-top:14px; padding:12px; border-radius:8px; background:#f1f8ff; color:#0b3c6a; font-weight:600; }
  </style>
</head>
<body>
  <div class="card">
    <h1>ShieldNet - Analizador de Texto</h1>
    <label for="text">Texto para analizar:</label>
    <textarea id="text" placeholder="Escribe aquÃ­ el texto que deseas analizar..."></textarea>
    <button id="analyzeBtn">Analizar Texto</button>

    <div id="result" class="result" style="display:none;"></div>
  </div>

  <script>
    document.getElementById('analyzeBtn').addEventListener('click', async () => {
      const text = document.getElementById('text').value.trim();
      if (!text) return alert("Escribe un texto.");
      const res = await fetch('/api/analyze', {
        method: 'POST',
        headers: {'Content-Type':'application/json'},
        body: JSON.stringify({text})
      });
      const data = await res.json();
      if (!res.ok) {
        alert("Error: " + (data.error || JSON.stringify(data)));
        return;
      }
      const r = document.getElementById('result');
      r.style.display = 'block';
      r.innerHTML = `<div>Resultado: <strong>${data.label}</strong></div>
                     <div>Confianza: ${(data.confidence*100).toFixed(1)}%</div>`;
    });
  </script>
</body>
</html>
